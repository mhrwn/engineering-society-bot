
```markdown
# 🤖 ربات انجمن علمی مهندسی ساخت و تولید

ربات هوشمند تلگرام برای مدیریت و تعامل با اعضای انجمن علمی مهندسی ساخت و تولید دانشگاه محقق اردبیلی

## ✨ ویژگی‌های اصلی

### 🤖 ربات کاربران
- ✅ **تأیید عضویت خودکار** در کانال انجمن
- ✅ **سیستم ثبت‌نام هوشمند** در رویدادها و کارگاه‌ها
- ✅ **لغو ثبت‌نام** از رویدادهای ثبت‌نام شده
- ✅ **مدیریت پروفایل شخصی** کاربران
- ✅ **نمایش اطلاعات انجمن** و راه‌های ارتباطی
- ✅ **سیستم پیام‌رسانی** به مدیران با محدودیت روزانه
- ✅ **کیبوردهای فارسی** و رابط کاربری زیبا
- ✅ **پشتیبانی از تاریخ شمسی**

## 🚀 راه‌اندازی سریع

### پیش‌نیازها
- پایتون 3.13
- توکن ربات تلگرام از [@BotFather](https://t.me/BotFather)

### نصب و اجرا

```bash
# دانلود پروژه
git clone https://github.com/mhrwn/engineering-society-bot.git
cd engineering-society-bot

# ایجاد محیط مجازی
python -m venv venv

# فعال‌سازی محیط مجازی
source venv/bin/activate  # برای Linux/Mac
# یا
venv\Scripts\activate  # برای Windows

# نصب وابستگی‌ها
pip install -r requirements.txt

# کپی فایل تنظیمات
cp env-simple.txt .env

# ویرایش فایل تنظیمات
nano .env  # یا با ویرایشگر دلخواه
```

### ⚙️ تنظیمات محیطی (.env)

مقادیر زیر را در فایل `.env` تنظیم کنید:

```env
# تنظیمات ربات اصلی
MAIN_BOT_TOKEN="توکن_ربات_اصلی_از_BotFather"
ADMIN_BOT_TOKEN="توکن_ربات_مدیریت_از_BotFather"

# شناسه‌های ادمین (با کاما جدا کنید)
ADMIN_CHAT_IDS=123456789,987654321

# تنظیمات انجمن
SOCIETY_NAME=انجمن علمی مهندسی ساخت و تولید
UNIVERSITY=دانشگاه محقق اردبیلی
CONTACT_EMAIL=example@uma.ac.ir
CONTACT_PHONE=+98123456789

# تنظیمات کانال
CHANNEL_ID=-1000000000000
CHANNEL_USERNAME=@your_channel_username
CHANNEL_URL=https://t.me/your_channel_url

# تنظیمات پروکسی (اختیاری)
PROXY_URL=socks5://127.0.0.1:1080

# محدودیت پیام‌های روزانه
MAX_MESSAGES_PER_DAY=1
```

### 🏃‍♂️ اجرای ربات

```bash
# اجرای ربات اصلی
./run_main.sh

# یا مستقیم با پایتون
python -m main.main
```

## 🏗️ ساختار پروژه

```
engineering-society-bot/
├── 📊 database/                 # مدیریت داده‌ها
│   ├── models.py               # مدل‌های دیتابیس
│   ├── manager.py              # عملیات پایگاه داده
│   ├── sample_data.py          # داده‌های نمونه
│   └── bot_data.db            # فایل دیتابیس
├── 🤖 main/                    # ربات اصلی کاربران
│   ├── handlers/               # مدیریت دستورات
│   │   ├── start.py           # شروع کار با ربات
│   │   ├── registration.py    # ثبت‌نام در رویدادها
│   │   ├── profile.py         # مدیریت پروفایل
│   │   ├── messaging.py       # سیستم پیام‌رسانی
│   │   ├── about.py           # اطلاعات انجمن
│   │   ├── events.py          # نمایش رویدادها
│   │   ├── workshops.py       # نمایش کارگاه‌ها
│   │   └── contact.py         # اطلاعات تماس
│   ├── utils/                  # ابزارهای کمکی
│   │   ├── keyboards.py       # تولید کیبوردها
│   │   ├── markdown.py        # فرمت‌نویسی پیام‌ها
│   │   └── validators.py      # اعتبارسنجی داده‌ها
│   ├── middleware/             # لایه‌های میانی
│   │   └── channel_verify.py  # تأیید عضویت در کانال
│   └── main.py                # فایل اجرایی ربات
├── 🔧 config.py               # تنظیمات مرکزی
├── 📋 requirements.txt        # کتابخانه‌های مورد نیاز
├── 🚀 run_main.sh             # اسکریپت اجرای ربات
├── ⚙️ Procfile                # تنظیمات deploy
├── 🔖 runtime.txt             # نسخه پایتون
└── 📖 README.md               # مستندات پروژه
```

## 🗄️ مدل‌های دیتابیس

### رویدادها (Events)
- نام، توضیحات، تاریخ، زمان، مکان
- ظرفیت، تعداد ثبت‌نام‌شده
- نوع (رویداد/کارگاه)، وضعیت فعال

### ثبت‌نام‌ها (Registrations)
- اطلاعات کاربر (نام، شماره دانشجویی، کدملی، تلفن)
- نام رویداد، تاریخ ثبت‌نام
- وضعیت ثبت‌نام

### پیام‌های کاربر (UserMessages)
- متن پیام، تاریخ ارسال
- وضعیت (خوانده شده/پاسخ داده شده)
- پاسخ مدیر

## 🎯 دستورات ربات

- `/start` - شروع کار با ربات
- `/cancel` - لغو عملیات جاری
- **منوی اصلی**:
  - 📖 درباره انجمن
  - 📅 رویدادها
  - 🎓 کارگاه‌ها
  - 📞 تماس با ما
  - 👤 مشاهده پروفایل
  - 💬 تماس با مدیر
  - 📝 ثبت‌نام در کارگاه‌ها و رویدادها

## 🔧 توسعه و مشارکت

### ساختار هندلرها

هر ماژول در `main/handlers/` مسئولیت زیر را دارد:

- **start.py**: مدیریت دستور /start و خوشامدگویی
- **registration.py**: فرآیند ثبت‌نام چندمرحله‌ای
- **profile.py**: مدیریت پروفایل و انصراف از ثبت‌نام
- **messaging.py**: سیستم پیام‌رسانی به مدیران
- **about.py**: اطلاعات درباره انجمن
- **events.py**: نمایش رویدادهای فعال
- **workshops.py**: نمایش کارگاه‌های آموزشی
- **contact.py**: اطلاعات تماس

### افزودن ویژگی جدید

1. ایجاد فایل جدید در `main/handlers/`
2. ثبت هندلر در `main/main.py`
3. اضافه کردن دکمه مربوطه در `main/utils/keyboards.py`
4. تست و commit تغییرات

## 🐛 عیب‌یابی

### مشکلات متداول

1. **ربات شروع نمی‌شود**:
   - بررسی توکن در فایل `.env`
   - اطمینان از نصب وابستگی‌ها
   - بررسی اتصال اینترنت

2. **خطای دیتابیس**:
   - حذف فایل `database/bot_data.db` برای ایجاد مجدد
   - بررسی دسترسی نوشتن در پوشه

3. **مشکل در پروکسی**:
   - بررسی صحت آدرس و پورت پروکسی
   - تست اتصال خارج از ربات

## 📞 پشتیبانی

- 📢 **کانال انجمن:** [@UMA_manufacturing402](https://t.me/UMA_manufacturing402)
- 📧 **ایمیل:** example@uma.ac.ir
- 📞 **تلفن:** +98123456789

## 📄 مجوز

این پروژه تحت مجوز MIT منتشر شده است.

---

<div align="center">

**ساخته شده با ❤️ برای انجمن علمی مهندسی ساخت و تولید دانشگاه محقق اردبیلی**

</div>
```